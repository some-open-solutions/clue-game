
<html>
<head>
<style>
.room_class{
  position: absolute;
  width:100px;
  height:100px;
  border-radius:50px;
  background-color:mediumBlue;
}

#grid_table{
}
  body {
    background-color: #ffcc00;
}
</style>
  <title>
    Clue
  </title>
  <script src="libraries/jquery-3.5.1.min.js"></script>
  <script src="libraries/bootbox.5.5.2.min.js"></script>
  <script src="libraries/bootstrap.4.5.3.min.js"></script>
  <script src="libraries/papaparse.min.js"></script>
  <link rel="stylesheet" href="libraries/bootstrap.4.5.3.min.css"></link>
  <h1 style="color: #5e9ca0;">Welcome to Connect the Clues </h1>
</head>
<body>
<div id="grid_table"></div>

<!--
<div id="phase_1" class="phase">
<body style="background-color:powdergrey;">
<div id="room_0" class="room_class"></div>
<div id="room_1" class="room_class"></div>
<div id="room_2" class="room_class"></div>
<div id="room_3" class="room_class"></div>
<div id="room_4" class="room_class"></div>
<div id="room_5" class="room_class"></div>
<div id="room_6" class="room_class"></div>
<div id="room_7" class="room_class"></div>
<div id="room_8" class="room_class"></div>
<div id="room_9" class="room_class"></div>
<div id="room_10" class="room_class"></div>
-->
</div>
</body>
</html>



<script type="text/javascript">
function in_room(x,y){
  console.log("in room message");
  console.log(x)
  console.log(y);
  var is_in_room = false;

  clue_object.rooms.forEach((row, i) => {

    if(
      x >= row.coordinates[0] &&
      y >= row.coordinates[1] &&
      x <= row.coordinates[2] &&
      y <= row.coordinates[3]
    ){
      is_in_room = true;
    }
  });
  console.log("is in room =" + is_in_room);
  return is_in_room;

}
var clue_object = {
  rooms: [
    {
      room:"studio",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
    },
    {
      room: "anticamera",
      coordinates:{
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      } [9,0,14,7]
    },
    {
      room:"veranda" ,
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[16,0,21,5]
    },
    {
      room:"biblioteca",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
       coordinates:[0,6,5,10]
     },
    {
      room:"finale",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[8,7,12,14]
    },
    {
      room:"sala_pranzo",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[15,8,21,15]
    },
    {
      room:"sala_biliardo" ,
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[0,11,4,16]
    },
    {
      room:"salotto",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[0,18,4,23]
    },
    {
      room:"sala_ballo",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[7,16,14,23]
    },
    {
      room:"cucina",
      coordinates: {
        x_start: 0,
        x_end: 6,
        y_start: 0,
        y_end: 3
      }
      coordinates:[17,17,21,22]
    }
  ]
}

var index_room = clue_object.rooms.shift();
var this_room = index_room.coordinates;


  var grid_html = "<table>";
  // i is for the rows
  for (var y = 0; y < 23; y++) {
    grid_html += "<tr>";

    // j is for the columns
    for (var x = 0; x < 22; x++) {
      var room_style = "";
      var room_dimensions = "";
      var room_border = "border-style: solid;";


      if (y == this_room[1] && x == this_room[0]) {


        room_style = "background-color: purple;";
        room_border = "";

        var rowspan = parseFloat(this_room[3]) - parseFloat(this_room[1]);

        var colspan = (parseFloat(this_room[2]) - parseFloat(this_room[0])+1);

        room_dimensions = "colspan='"+colspan+"' rowspan='"+rowspan+"'";

        grid_html += "<td " +room_dimensions+ "style = 'width: 50px; height:50px; "+room_border+"; "+room_style+"'><h3 class='text-white'>"+index_room.room+"</h3></td>";




      } else if (in_room(x,y)) {
        console.log(y+ "-" + x);
      } else if(this_room[2] == y && this_room[3] == (x+1)){
        /*
        index_room = clue_object.rooms.shift();
        this_room = index_room.coordinates;
        console.dir(this_room)
        grid_html += "<td " +room_dimensions+ "style = 'width: 50px; height:50px; "+room_border+"; "+room_style+"'>" + y + "-" + x +  "</td>";
        */
      } else {
        grid_html += "<td " +room_dimensions+ "style = 'width: 50px; height:50px; "+room_border+"; "+room_style+"'>" + y + "-" + x +  "</td>";
      }
    }
    grid_html += "</tr>";
  }
  grid_html += "</table>";
  $("#grid_table").html(grid_html);
</script>
